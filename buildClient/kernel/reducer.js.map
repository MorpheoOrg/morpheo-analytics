{"version":3,"file":"kernel/reducer.js","sources":["webpack:///src/client/js/business/kernel/actions.js","webpack:///src/client/js/business/kernel/reducer.js"],"sourcesContent":["/**\n * Copyright Morpheo Org. 2017\n *\n * contact@morpheo.co\n *\n * This software is part of the Morpheo project, an open-source machine\n * learning platform.\n *\n * This software is governed by the CeCILL license, compatible with the\n * GNU GPL, under French law and abiding by the rules of distribution of\n * free software. You can  use, modify and/ or redistribute the software\n * under the terms of the CeCILL license as circulated by CEA, CNRS and\n * INRIA at the following URL \"http://www.cecill.info\".\n *\n * As a counterpart to the access to the source code and  rights to copy,\n * modify and redistribute granted by the license, users are provided only\n * with a limited warranty  and the software's author,  the holder of the\n * economic rights,  and the successive licensors  have only  limited\n * liability.\n *\n * In this respect, the user's attention is drawn to the risks associated\n * with loading,  using,  modifying and/or developing or reproducing the\n * software by the user in light of its specific status of free software,\n * that may mean  that it is complicated to manipulate,  and  that  also\n * therefore means  that it is reserved for developers  and  experienced\n * professionals having in-depth computer knowledge. Users are therefore\n * encouraged to load and test the software's suitability as regards their\n * requirements in conditions enabling the security of their systems and/or\n * data to be ensured and,  more generally, to use and operate it in the\n * same conditions as regards security.\n *\n * The fact that you are presently reading this means that you have had\n * knowledge of the CeCILL license and that you accept its terms.\n */\n\nimport {createAction} from 'redux-actions';\n\nimport createRequestActionTypes from '../../actions/createRequestActionTypes';\n\nexport const actionTypes = {\n    create: createRequestActionTypes('KERNEL::CREATE'),\n    connect: createRequestActionTypes('KERNEL::CONNECT'),\n    close: createRequestActionTypes('KERNEL::CLOSE', ['REQUEST', 'SUCCESS']),\n    message: createRequestActionTypes('KERNEL::MESSAGE', ['ERROR', 'RECEIVE', 'SEND']),\n};\n\nexport const create = {\n    request: createAction(actionTypes.create.REQUEST),\n    success: createAction(actionTypes.create.SUCCESS),\n    failure: createAction(actionTypes.create.FAILURE),\n};\n\nexport const connect = {\n    request: createAction(actionTypes.connect.REQUEST),\n    success: createAction(actionTypes.connect.SUCCESS),\n    failure: createAction(actionTypes.connect.FAILURE),\n};\n\nexport const close = {\n    request: createAction(actionTypes.close.REQUEST),\n    success: createAction(actionTypes.close.SUCCESS),\n};\n\nexport const message = {\n    error: createAction(actionTypes.message.ERROR),\n    receive: createAction(actionTypes.message.RECEIVE),\n    send: createAction(actionTypes.message.SEND),\n};\n\nexport default {\n    create,\n    connect,\n    close,\n    message,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/client/js/business/kernel/actions.js","/**\n * Copyright Morpheo Org. 2017\n *\n * contact@morpheo.co\n *\n * This software is part of the Morpheo project, an open-source machine\n * learning platform.\n *\n * This software is governed by the CeCILL license, compatible with the\n * GNU GPL, under French law and abiding by the rules of distribution of\n * free software. You can  use, modify and/ or redistribute the software\n * under the terms of the CeCILL license as circulated by CEA, CNRS and\n * INRIA at the following URL \"http://www.cecill.info\".\n *\n * As a counterpart to the access to the source code and  rights to copy,\n * modify and redistribute granted by the license, users are provided only\n * with a limited warranty  and the software's author,  the holder of the\n * economic rights,  and the successive licensors  have only  limited\n * liability.\n *\n * In this respect, the user's attention is drawn to the risks associated\n * with loading,  using,  modifying and/or developing or reproducing the\n * software by the user in light of its specific status of free software,\n * that may mean  that it is complicated to manipulate,  and  that  also\n * therefore means  that it is reserved for developers  and  experienced\n * professionals having in-depth computer knowledge. Users are therefore\n * encouraged to load and test the software's suitability as regards their\n * requirements in conditions enabling the security of their systems and/or\n * data to be ensured and,  more generally, to use and operate it in the\n * same conditions as regards security.\n *\n * The fact that you are presently reading this means that you have had\n * knowledge of the CeCILL license and that you accept its terms.\n */\n\nimport {actionTypes} from './actions';\n\nexport default function (localStorage) {\n    const initialState = {\n        kernel_id: localStorage ? localStorage.getItem('kernel_id') : null,\n        loading: false,\n        modal: false,\n        registered: false, // TODO use it\n    };\n\n    return (state = initialState, {type, payload}) => {\n        switch (type) {\n        case actionTypes.connect.REQUEST:\n            return {\n                ...state,\n                kernel_id: null,\n                error: false,\n                loading: true,\n            };\n\n        case actionTypes.connect.SUCCESS:\n            return {\n                ...state,\n                ...payload,\n                error: false,\n                loading: false,\n            };\n\n        case actionTypes.connect.FAILURE:\n            return {\n                ...state,\n                error: payload,\n                loading: false,\n                kernel_id: null,\n            };\n        // TODO create\n        // case actionTypes.disconnect.SUCCESS:\n        //     return {\n        //         ...state,\n        //         kernel_id: null,\n        //         loading: false,\n        //     };\n\n        default:\n            return state;\n        }\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// src/client/js/business/kernel/reducer.js"],"mappings":";;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;;;;;AAtCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AAJA;;;;;;;;;;AA9BA;AACA;AAMA;AACA;AAKA;AACA;AAKA;AACA;AAIA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7BA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAJA;AACA;AAMA;AACA;AAGA;AACA;AAJA;AACA;AAMA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCA;AAmCA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}